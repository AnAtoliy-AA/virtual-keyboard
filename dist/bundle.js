!function(e){var t={};function s(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){"use strict";s.r(t);var n=class{constructor(){this.domScreen="",this.createDomScreen()}createDomScreen(){const e=document.createElement("textarea");e.classList.add("virtual-screen"),this.domScreen=document.body.appendChild(e),this.domScreen.textContent="",this.domScreen.focus()}addSymbolToScreen(e){this.domScreen.setRangeText(e),this.rightArrowMove()}removeLastSymbol(){this.domScreen.selectionEnd-=1,this.domScreen.selectionEnd+=1,this.domScreen.setRangeText("")}removeRightSymbol(){this.domScreen.selectionEnd+=1,this.domScreen.setRangeText("")}addSpaceToScreen(){this.domScreen.setRangeText(" "),this.rightArrowMove()}addEnterToScreen(){this.domScreen.setRangeText("\n"),this.rightArrowMove()}rightArrowMove(){this.domScreen.selectionEnd+=1,this.domScreen.selectionStart=this.domScreen.selectionEnd}addTabToScreen(){this.domScreen.setRangeText("\t"),this.rightArrowMove()}};var r=class{constructor(e,t,s,n,r,a,i,o,d,c){this.value=e,this.valueLabel=t,this.rusValue=s,this.rusValueLabel=n,this.keyCode=r,this.row=a,this.position=i,this.width=o,this.alternativeValue=d,this.rusAlternativeValue=c,this.id=r}};var a=function(){return[new r("`","~","ё","ё",192,1,1,40,"~"),new r("1","1","1","1",49,1,2,40,"!","!"),new r("2","2","2","2",50,1,3,40,"@","@"),new r("3","3","3","3",51,1,4,40,"#","#"),new r("4","4","4","4",52,1,5,40,"$","$"),new r("5","5","5","5",53,1,6,40,"%","%"),new r("6","6","6","6",54,1,7,40,"^","^"),new r("7","7","7","7",55,1,8,40,"&","&"),new r("8","8","8","8",56,1,9,40,"*","*"),new r("9","9","9","9",57,1,10,40,"(","("),new r("0","0","0","0",48,1,11,40,")",")"),new r("-","-","-","-",189,1,12,40,"_","_"),new r("=","=","=","=",187,1,13,40,"+","+"),new r("backspace","Backspace","backspace","Backspace",8,1,14,110),new r("tab","Tab","tab","Tab",9,2,1,60),new r("q","q","й","й",81,2,2,40),new r("w","w","ц","ц",87,2,3,40),new r("e","e","у","у",69,2,4,40),new r("r","r","к","к",82,2,5,40),new r("t","t","е","е",84,2,6,40),new r("y","y","н","н",89,2,7,40),new r("u","u","г","г",85,2,8,40),new r("i","i","ш","ш",73,2,9,40),new r("o","o","щ","щ",79,2,10,40),new r("p","p","з","з",80,2,11,40),new r("[","[","х","х",219,2,12,40),new r("]","]","ъ","ъ",221,2,13,40),new r("\\","\\","\\","\\",220,2,14,40,"|","/"),new r("del","DEL","del","DEL",46,2,15,40),new r("capsLock","Caps Lock","capsLock","Caps Lock",20,3,1,90),new r("a","a","ф","ф",65,3,2,40),new r("s","s","ы","ы",83,3,3,40),new r("d","d","в","в",68,3,4,40),new r("f","f","а","а",70,3,5,40),new r("g","g","п","п",71,3,6,40),new r("h","h","р","р",72,3,7,40),new r("j","j","о","о",74,3,8,40),new r("k","k","л","л",75,3,9,40),new r("l","l","д","д",76,3,10,40),new r(";",";","ж","ж",186,3,11,40),new r("'","'","э","э",222,3,12,40),new r("enter","Enter","enter","Enter",13,3,13,105),new r("","Shift","","Shift",16,4,1,110),new r("z","z","я","я",90,4,2,40),new r("x","x","ч","ч",88,4,3,40),new r("c","c","с","с",67,4,4,40),new r("v","v","м","м",86,4,5,40),new r("b","b","и","и",66,4,6,40),new r("n","n","т","т",78,4,7,40),new r("m","m","ь","ь",77,4,8,40),new r(",",",","б","б",188,4,9,40,"<"),new r(".",".","ю","ю",190,4,10,40,">"),new r("/","/",".",".",191,4,11,40,"?",","),new r("▲","▲","▲","▲",38,4,12,40),new r("","Shift","","Shift",16,4,13,85),new r("","Ctrl","","Ctrl",17,5,1,40),new r("","Win","","Win",91,5,2,40),new r("","Alt","","Alt",18,5,3,40),new r("space","Space","space","Space",32,5,4,345),new r("","Alt","","Alt",18,5,5,40),new r("◄","◄","◄","◄",37,5,7,40),new r("▼","▼","▼","▼",40,5,8,40),new r("►","►","►","►",39,5,9,40),new r("","Ctrl","","Ctrl",17,5,6,40)]};var i=class{constructor(){this.englishLanguage="true"===sessionStorage.englishLanguage,this.cssClassNameConfig={keyboardKeyActive:"keyboard__key_active"},this.vKeys=a(),this.domScreen=document.querySelector(".virtual-screen"),this.domKeyboard=this.createDomKeyboard(),this.domKeys=document.querySelectorAll(".keyboard__key"),this.addActiveKeyboardKey(),this.bindPhysicalKeyboardEvents(),this.capsLockEnabled=!1,this.shiftPressed=!1,this.keepPressedButtonsArray=[]}createDomKeyboard(){const{body:e}=document,t=document.createElement("div"),s=a();e.appendChild(t),t.classList.add("virtual-keyboard");for(let e=1;e<6;e+=1){const s=document.createElement("div");s.id=`row_${e}`,s.classList.add("keyboard__row"),t.appendChild(s)}for(let e=0;e<s.length;e+=1){const t=s[e],n=document.createElement("div");n.innerHTML=this.englishLanguage?t.valueLabel:t.rusValueLabel,n.style.width=`${t.width}px`,n.classList.add("keyboard__key"),n.id=t.id,document.getElementById(`row_${t.row}`).appendChild(n)}return document.querySelectorAll(".virtual-keyboard div")}addActiveKeyboardKey(){this.domKeys.forEach(e=>{e.addEventListener("mousedown",e=>{"20"!==e.target.id&&e.target.classList.add(this.cssClassNameConfig.keyboardKeyActive),this.pressKey(e)}),e.addEventListener("mouseup",()=>{this.domKeys.forEach(e=>this.removeClassKeyActive(e))})})}removeClassKeyActive(e){e.classList.remove(this.cssClassNameConfig.keyboardKeyActive)}bindPhysicalKeyboardEvents(){const e=[...this.domKeys];document.addEventListener("keydown",t=>{const s=e.find(e=>+e.id==+t.keyCode);void 0!==s&&("20"!==s.id&&s.classList.add(this.cssClassNameConfig.keyboardKeyActive),this.addKeepPressedButtonsArray(s.id),this.pressKey(t)),t.preventDefault()}),document.addEventListener("keyup",t=>{const s=e.find(e=>+e.id==+t.keyCode);void 0!==s&&(e.forEach(e=>this.removeClassKeyActive(e)),this.removeKeepPressedButtonsArray(s.id)),this.changeVirtualKeyboardKeyCase()})}addKeepPressedButtonsArray(e){-1===this.keepPressedButtonsArray.indexOf(e)&&this.keepPressedButtonsArray.push(e)}removeKeepPressedButtonsArray(e){const t=this.keepPressedButtonsArray.indexOf(e);this.keepPressedButtonsArray.splice(t,1)}toggleCapsLock(){this.capsLockEnabled=!this.capsLockEnabled,document.getElementById("20").classList.toggle("keyboard__caps-lock_active")}prepareSymbolToShowInScreen(e){let t="";return t=this.englishLanguage?this.capsLockEnabled?this.shiftPressed?e.alternativeValue||e.value.toLowerCase():e.value.toUpperCase():this.shiftPressed?e.alternativeValue||e.value.toUpperCase():e.value.toLowerCase():this.capsLockEnabled?this.shiftPressed?e.alternativeValue||e.rusValue.toLowerCase():e.rusValue.toUpperCase():this.shiftPressed?e.rusAlternativeValue||e.rusValue.toUpperCase():e.rusValue.toLowerCase(),t}analysePressedKeys(){2===this.keepPressedButtonsArray.filter(e=>"18"===e||"16"===e).length&&this.toggleEnglishLanguage(),1===this.keepPressedButtonsArray.filter(e=>"16"===e).length&&this.enableShift(),0===this.keepPressedButtonsArray.filter(e=>"16"===e).length&&this.disableShift(),this.changeVirtualKeyboardKeyCase()}enableShift(){this.shiftPressed=!0}disableShift(){this.shiftPressed=!1}changeVirtualKeyboardKeyCase(){this.shiftPressed?this.domKeys.forEach(e=>{const t=e;t.innerHTML=this.capsLockEnabled?t.innerHTML.toLowerCase():t.innerHTML.toUpperCase()}):this.domKeys.forEach(e=>{const t=e;t.innerHTML=this.capsLockEnabled?t.innerHTML.toUpperCase():t.innerHTML.toLowerCase()})}toggleEnglishLanguage(){this.englishLanguage=!this.englishLanguage,sessionStorage.setItem("englishLanguage",this.englishLanguage),this.domKeys.forEach(e=>{const t=e,s=this.vKeys.find(e=>e.id===+t.id),n=s.valueLabel,r=s.rusValueLabel;t.innerHTML=this.englishLanguage?n:r})}pressKey(e){this.analysePressedKeys();const t=this.vKeys.find(t=>t.id===+e.target.id||t.id===+e.keyCode);switch(t.value){case"capsLock":this.toggleCapsLock();break;case"backspace":this.vScreen.removeLastSymbol();break;case"del":this.vScreen.removeRightSymbol();break;case"space":this.vScreen.addSpaceToScreen();break;case"tab":this.vScreen.addTabToScreen();break;case"enter":this.vScreen.addEnterToScreen();break;default:this.vScreen.addSymbolToScreen(this.prepareSymbolToShowInScreen(t))}}setScreen(e){this.vScreen=e}};document.body.onload=function(){const e=new n,t=new i,s=document.createElement("div");t.setScreen(e),s.innerHTML="OS: Windows. To change language press: Alt + Shift",document.body.appendChild(s)}}]);